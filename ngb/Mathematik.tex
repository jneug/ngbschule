
% Mathe-Pakete
\RequirePackage{amsmath,amssymb,amstext,amscd}
\RequirePackage{exscale}

%\RequirePackage{tkz-euclide}
%\usetkzobj{all}


% Schnell-Kommandos fÃ¼r Mengenzeichen und andere Symbole
\newcommand{\A}{\mathbb{A}}
\newcommand{\B}{\mathbb{B}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\G}{\mathbb{G}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\N}{\mathbb{N}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cZ}{\mathcal{Z}}
\newcommand{\bs}{\,\backslash\,}
\newcommand{\qed}{\ensuremath{\Box}}

\newenvironment{koordinatensystemNO}[3][1cm]{\begin{koordinatensystem}[#1]{0}{#2}{0}{#3}}{\end{koordinatensystem}}

\newenvironment{koordinatensystemN}[4][1cm]{\begin{koordinatensystem}[#1]{#2}{#3}{0}{#4}}{\end{koordinatensystem}}

\def\geogrid{5mm}

\newenvironment{koordinatensystem}[5][1cm]{%
	\begin{tikzpicture}[cross/.style={draw, cross out, 
		minimum size=2mm, inner sep=0pt, outer sep=0pt,thick}, x=#1, y=#1, smooth,
		>=latex
		]
	% Setup tkz-euclide
%	\tkzInit[xmin=-1,xmax=13,ymin=-1,ymax=13]
%	\tkzClip
	% Todo: Define offset
	% test dimensions
	\newboolean{ngbXzero}
	\newboolean{ngbYzero}
	\ifthenelse{\(\(#2<0 \OR #2=0\) \AND \(#3>0 \OR #3=0\)\)}
		{\setboolean{ngbXzero}{true}}
		{\setboolean{ngbXzero}{false}}
	\ifthenelse{\(\(#4<0 \OR #4=0\) \AND \(#5>0 \OR #5=0\)\)}
		{\setboolean{ngbYzero}{true}}
		{\setboolean{ngbYzero}{false}}
	%Raster zeichnen
	\draw [color=gray!50]  [step=\geogrid] ({#2-1},{#4-1}) grid ({#3+1},{#5+1});
	% Achsen zeichnen beschriften
	\ifthenelse{\boolean{ngbYzero}}
		{\draw[->,thick] ({#2-.5},0) -- ({#3+.5},0) node[right] {$x$};
		\ifthenelse{#2<0}{%
			\foreach \x in {#2,...,-1}
			\draw (\x,-.1) -- (\x,.1) node[below=4pt] {$\scriptstyle\x$};
		}{}
		\ifthenelse{#3>0}{%
			\foreach \x in {1,...,#3}
			\draw (\x,-.1) -- (\x,.1) node[below=4pt] {$\scriptstyle\x$};
		}{}}{}
	\ifthenelse{\boolean{ngbXzero}}
		{\draw[->,thick] (0,{#4-.5}) -- (0,{#5+.5}) node[above] {$y$};
		\ifthenelse{#4<0}{%
			\foreach \y in {#4,...,-1}
			\draw (-.1,\y) -- (.1,\y) node[left=4pt] {$\scriptstyle\y$};
		}{}
		\ifthenelse{#5>0}{%
			\foreach \y in {1,...,#5}
			\draw (-.1,\y) -- (.1,\y) node[left=4pt] {$\scriptstyle\y$};
		}{}}{}
	% Ursprung
	\ifthenelse{\boolean{ngbXzero} \OR \boolean{ngbYzero}}{%
		\node[below left]{$\scriptstyle0$};
	}{}
}{\end{tikzpicture}}

\newcommand{\geotext}[3][above]{\node [label=#1:{#3}] at (#2) {}; }
\newcommand{\geopunkt}[2]{\node [cross,label={#2}] at (#1) {}; }
%\newcommand{\geopunkt}[2]{\tkzDefPoint(#1){#2}}
\newcommand{\geostrecke}[2]{\draw[-,thick] (#1) -- (#2) node[cross] {};}
\newcommand{\geogerade}[2]{\draw[-,thick] (#1) -- (#2) node[] {};}